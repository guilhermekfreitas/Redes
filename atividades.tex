\documentclass[12pt,draft]{report}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage{url}
%\usepackage{graphicx}
%\usepackage{listings}
%\usepackage{verbatim}
%\usepackage{subfigure}
%\usepackage{multicol}
%\usepackage{framed}
%\usepackage[noend]{algorithmic}
%\usepackage{algorithm}
%\usepackage{listings} % Códigos
\usepackage{amssymb} % Simbolos Matematicos
\usepackage{amsfonts} % Simbolos Matematicos
\usepackage{amsmath}
%\usepackage{amsthm}
%\usepackage{txfonts}
%\usepackage{float}

\newcommand{\letra}[1]{\paragraph{#1.}}

\title{Questões Sugeridas \\ \small{(Relativas ao livro do Kurose $3^a$ edição \cite{kurose-3ed})} \\ MO601A - Teleprocessamento e Redes \\ Semestre 2010.1}
\author{Daniel Cason}


\begin{document}

\maketitle
\newpage

\chapter{Redes de computadores e a Internet}

Define a Internet a partir de duas abordagens: componentes de software e hardware e em termos de uma infra-estrutura de rede que provê serviços para aplicações distribuídas.

Os dispositivos são chamados de \textbf{hosts} ou \textbf{end systems}, que são conectados entre si através de links de comunicação e switches de pacotes.
Diferentes links possuem taxa de transmissão distintas, medidas em bits/s. Por eles passam pacotes, contendo dados e cabeçalhos com meta-dados.
Dentre os switches se destacam os routers (normalmente no core da rede) e os link-layer switches (normalmente usados em redes de acesso).
Ambos fazem o forward de pacotes para seus destinos. A sequência de links e packets switches atravessados por um pacote enviado é chamado de rota ou path.

Os \emph{end systems} acessam a internet através de \emph{Internet Service Providers}, que são, per si, uma rede de packets switches e links.
Eles provém acesso aos usuários através os mais diversos tipos de enlaces e taxas de transmissão. Ao mesmo tempo, eles são provedores de conteúdo disponibilizado na Internet.
Os ISPs são também interconectados, formando uma hierarquia de redes.

Os \emph{end systems} usam protocolos para controle da troca de dados, nos quais se destacam o IP e o TCP. O primeiro define o formato dos pacotes enviados e recebidos entre os routers e os end systems. O segundo dá suporte aos principais protocolos usados para troca de informações.

A Internet também pode ser descrita como uma infra estrutura que provê serviços para aplicações, ditas distribuídas, que executam nos end systems e não no core da internet ou nos packet switches.
Os end systems ligados à Internet oferecem uma \emph{Application Programming Interface} que especifica como os softwares rodando em outros end systems podem acessar as informações disponibilizadas.
Para que estas informações sejam trocadas, a Internet provê serviços que permitem a comunicação entre estes elementos de software.

\section{Borda da Internet}

Os end systems são normalmente chamados de \emph{hosts}, pois são os lugares onde aplicativos da Internet rodam.
Normalmente estes aplicativos são formados por dois tipos programas diferentes: \emph{clients} e \emph{servers}.
Os primeiros normalmente solicitam e recebem algum serviço dos servers.
Para tal eles se comunicam através de trocas de mensagens seguindo algum protocolo pré-estabelecido e conhecido por ambos.
Neste nível, os links e switches são abstraídos, tratados como ``caixa-pretas'' que fazem a troca de dados entre os dois lados.

Outra possibilidade de comunicação é o modelo \emph{Peer to peer} o P2P.
Nele todos os hots agem tanto como clientes como servidores.

\subsection{Redes de acesso}

Seriam as redes que conectam os end systems ao primeiro roteador (dito de borda) no trajeto entre eles e outros end systems em outras redes.

\paragraph{Dial-up} Muito empregada nos anos 90 para acesso residencial. Aproveita a infra-estrutura telefônica e os hosts fazem uma chamada tradicional para algum ISP. Um aparelho chamado modem converte o sinal digital vindo dos PCs para um sinal analógico que é enviado ao ISP, que o reconverte ao formato digital. Apresenta baixas taxas de transmissão e ocupam a linha telefônica.

\paragraph{DSL} É o modo de acesso residencial mais difundido atualmente. Também aproveita a infra-estrutura telefônica, fazendo passar pelos pares trançados da telefonia três ``canais'': upstream, downstream e voz. Nas residências tem-se um \emph{splitter} que separa o canal de voz dos de dados, que são enviados a um modem específico que faz a conversão digital-analógico. Na outra parte tem-se os \emph{DSLAN} que separam o sinal (de várias residências) telefônico dos sinais de dados, digitalizados e repassados à Internet. A taxa de transmissão é considerável e depende da distância da residência e as estações, pois o sinal se degrada com a distância, por conta da atenuação e da interferência. Normalmente a banda upstream é menor que a downstream, sendo a DSL chamada de assimétrica. Outra vantagem é o uso simultâneo do telefone e da Internet. Não há chamada para o ISP como no dial-up e a conexão é persistente.

\paragraph{Cabo} Neste modo se aproveita da infra-estrutura de TV a cabo. 
Nela tem-se os \emph{head end} que fazem broadcast os canais de televisão, que viajam via fibra ótica até junções setoriais (\emph{neighboorhood-level}).
De lá saem cabos coaxiais que alcançam as residências, o que faz com que a arquitetura seja chamada \emph{hybrid fibre coax}.
Nas residências tem-se os chamados modens a cabo que dividem o sinal em uma banda upstream e uma maior downstream. Um dado importante é que o meio de comunicação é compartilhado, ou seja, todas as mensagens enviadas pelo \emph{head end} são recebidas em todas as casas e todas mensagens enviadas por um modem ocupam o meio, sendo necessário um protocolo para coordenar os envios de dados.
Outra consequência disto é que a banda downstream é compartilhada por todos usuários, fazendo com que melhores taxas sejam obtidas com menos usuários empregando o serviço, enquanto se poucos usam o serviço, toda a banda upstream pode ser usada por um usuário.

\paragraph{Fibber-To-The-Home} Visto que as taxas de transmissão via fibra ótica são superiores às dos cabos metálicos, algumas empresas fornecem este serviço às residências. Este acesso pode ser dedicado, com uma fibra por residência. Outra forma é o acesso compartilhado, feito com duas arquitetura \emph{active optical networks (AONs)} e \emph{passive optical networks (PONs)}. Na primeira tem-se um compartilhamento de rede como é feito na Ethernet. 
Na segunda tem-se nas residências equipamentos chamados \emph{optical network termination (ONT)} que recebem os dados de uma fibra ótica que vai até uma estação regional que é o um \emph{optical splitter} que une os sinais e envia para um \emph{optical line terminator (OLT)} que faz a transformação para sinais elétricos. O OLT é normalmente associado um grupo de telecomunicações, que também provê telefone e canais de TV. Assim como na conexão a cabo, todos os pacoes enviados pelo OLT são replicados pelo splitter e recebidos por todos os ONTs.

\paragraph{Ethernet} É o modo mais comum de acesso em LANs, conectadas a um roteador de borda. A transmissão se dá por pares-trançados isolados de metal que possui uma tecnologia particular de controle de acesso ao meio (que é compartilhado). Esta arquitetura usa de switches locais que conectam os end systems (clientes ou servidores) entre si e com o roteador.

\paragraph{WiFi} É a tecnologia IEEE 802.11, usada para acesso à rede a partir de dispositivos sem fio. Em uma WLAN os end systems enviam/recebem mensagens de/para uma estação base conectada a redes cabeadas ou \emph{wired}. Estas estações podem ser conectadas a uma LAN, à Internet diretamente ou uma rede de acesso com outra tecnologia qualquer. A limitação é o alcance das antenas das estações bases, que se restringe a alguns metros. Há possibilidade de antenas mais potentes, para áreas maiores de abrangência.

\paragraph{Wide-Area Wireless Access} Outra possibilidade são as WLANs que permitem o acesso de dispositivos empregando a infra-estrutura existente para a telefonia celular, usando as antenas como estações bases, com alcance muito maior. Em desenvolvimento nos últimos tempos é a tecnologia 3G que provê acesso sem fio de largo alcance, via comutação de pacotes e com velocidades mais altas.

\paragraph{WiMAX} A IEEE 802.16 é uma concorrente para a WiFi. Eles prometem altas velocidades e operariam independentemente à infra-estrutura da telefonia celular.

\subsection{Meios de transmissão}

Esta seção analiza os meios usados para transmissão dos bits nas redes. Há a distinção de meios guiados e meio não guiados (tecnologia ``sem fio'').

\paragraph{Duplo par-trançado}
Tecnologia mais barata, consiste em um par de fios trançados (para reduzir interferências) e isolados (com não condutores) e está presente na maior parte das residências, por ter ser usado em cabeamento telefônico. Estes cabos são usados no acesso dial-up (<56 kbps) e DSL (passam de 6Mbps). Os \emph{Unshielded Twister Pair (UTP)} são os mais usados em LANs de alta velocidade, tendo velocidades entre 10 Mbps e 1Gbps. Eles consistem em vários pares-trançados embalados em material isolante, para evitar interferência magnética.

\paragraph{Cabo coaxial}
Consiste em dois condutores concêntricos isolados entre si e isolados do meio. É mais rígido e tem altas taxas de transmissão, além de poder ser usado como meio compartilhado, podendo vários computadores se conectar a um cabo e ter acesso a todo conteúdo trocado.

\paragraph{Fibra ótica}
Os bits são modulados em comprimentos de luz que caminha em um cabo isolado, flexível e fino, se refletindo em suas paredes.
Tem taxas de transmissão muito alta, pouca interferência e atenuação, sendo usados para comunicação de longo alcance. 
Sua principal limitação é o preço. Suas velocidades nos modelos $OC-n$ são da faixa de $51,8x Mbps$, havendo já tecnologias para $n$ 1,3,12,24,48,96, 192, 768.

\paragraph{Rádio - canais terrestres}
Tem a vantagem de não precisar de meio físico (é o ar), mas sofre de (auto)-interferência, atenuação que limitam sua abrangência. 
Nas LANs usa-se frequências específicas, com alcance limitado. Nas redes celulares, tem-se tecnologias de maior alcance e menores taxas.

\paragraph{Rádio - satélites}
Neste modo satélites posicionados no espaço recebem transmissões em uma frequência e retornam em outra frequência. Há dois tipos principais: os geoestacionários, que não se ``movem'' em relação ao solo (são poucos) e os de baixa órbita, que giram com a terra e tem que se comunicar entre si (tem menor alcance), podendo ser usados no futuro.
As taxas de transmissão são altas, mas tem-se um atraso considerável (principalmente nos geoestacionário), chegando a 4 segundos.

\section{The Internet core}

\subsection{Comutação por circuitos}

Nesta forma de organização tem-se que o caminho entre dois end systems devem ser reservados antes do início de uma troca de dados.
A consequência disto é que há uma taxa de transmissão garantida entre dois hosts. 
Por outro lado, mesmo com os links sem utilização uma mesma conexão não pode aproveitar toda a largura de banda.
Este é o modelo de conexão da telefonia, visto que consegue-se garantia de taxas de transmissão e que as conexões feitas pelas partes são ``limitadas'' a um máximo e a adição de um novo host leva a uma reorganização da estrutura, a fim de garantir a banda para este novo cliente.

Há duas formas de se implementar este modelo, que consistem em formas de várias conexões utilizarem simultaneamente um link.
A primeira é a \emph{Frequency-division multiplexing (FDM)}, onde dada a capacidade de transmissão do meio, divide-se ela em faixas de frequências distintas e isoladas que serão usadas por conexões diferentes.
Isto é feito pelas rádios, por exemplo, e a transmissão é tão alta quanto maior for a largura de banda reservada.

A segunda forma é \emph{Time-division multiplexing (TDM)}, onde a banda de transmissão é dividida em parcelas de tempo, empregada por cada uma das conexões.
Assim, seja a velocidade de um canal a velocidade empregada por uma conexão é tal velocidade dividida pelo número de conexões reservadas.

Em ambos os casos, a velocidade de uma conexão é a mesma, não interessa quantos links sejam atravessados.
As limitações deste formato é dificuldade de escalabilidade e o sub-uso do canal se alguma das conexões não estiver ativa.
Por conta disto, a Internet usa prioritariamente a comutação por pacotes.

\subsection{Comutação por pacotes}

Neste modelo, ao contrário do anterior não há reserva de banda para uma conexão. 
As mensagens trocadas são quebradas em uma série de pacotes, que trafegam pela rede, através de links e packets switches. 
Ao contrário do modelo anterior, o tempo de entrega não é simplesmente fator da banda alocada (pois ela não o é) e da distância.

Inicialmente, os switches funcionam no método \emph{store-and-forward}, recebendo um pacote por completo em uma entrada para depois enviá-los por outra saída.
Há, assim, se um pacote de $L$ bits passa por $Q$ switches, ligados por links de taxas $R$ ele tem um atraso de $QL/R$.

Como não há reservas de recurso, se na chegada de um pacote outro pacote ocupa a linha de saída, este pacote será armazenado em um \emph{buffer} ou num fila de saída.
Assim, numa transmissão deve-se levar em consideração um atraso de enfileiramento, que depende das condições de tráfego da rede.

Outra causa de enfileiramente é quando uma série de pacotes chega ao switch em uma taxa (a do link de entrada) superior à taxa da saída empregada.
Isto é possível neste modelo, pois a banda não é reservada nem limitada e cada pacote usa a banda total dos links que atravessa.

Neste modelo também há \emph{perda} de pacotes, visto que os buffers são finitos e novos pacotes que cheguem terão que ser descartados.

\subsection{Multiplexação estatística}

%%

\section{Questões}

\subsection{Q4}
Quais são os dois tipos de serviços de transporte que a Internet provê às suas aplicações? Cite algumas características de cada um destes serviços

\subsection{Q5}
Afirma-se que controle de fluxo e controle de congestionamento são equivalentes. Isso é válido para o serviço orientado para conexão da Internet? Os objetivos do controle de fluxo e do controle de congestionamento são os mesmos?

\subsection{Q7}
Qual é a vantagem de uma rede de comutação de circuitos em relação a uma de comutação de pacotes? Quais são as vantagens da TDM sobre a FDM em uma rede de comutação de circuitos?

\subsection{Q9}
Suponha que exista exatamente um comutador de pacotes entre um computador de origem e um de destino. As taxas de transmissão entre a máquina de origem e a máquina de destino são $R_1$ e $R_2$, respectivamente. Admitindo que um roteador use comutação de apcotes do tipo armazena-e-reenvia, qual é o atraso total fim-a-fim para enviar um pacote de comprimento $L$? (Desconsidere a formação de fila, atraso de propagação e atraso de processamento.)

\subsection{Q11}
Suponha que você esteja desenvolvendo o padrão para um novo tipo de rede de comutação de pacotes e precisa decidir se seu rede usará CVs ou roteamento de datagramas. Quais são os prós e os contras da utilização de CVs?

\subsection{Q12}
Cite seis tecnologias de acesso. Classifique cada uma delas nas categorias acesso residencial, acesso coorporativo ou acesso móvel.

\subsection{Q18}
Modens discados, HFC e ADSL são usados para acesso residencial. Para cada uma dessas tecnologias de acesso, cite uma faixa de taxas de transmissão e comente se a largura de banda é compartilhada ou dedicada.

\subsection{Q19}
Considere o envio de um pacote de uma máquina de origem a uma de destino por uma rota fixa. Relacione os componentes do atraso que formam o atraso fim-a-fim. Quais deles são constantes e quais deles são variáveis?

\subsection{Q21}
Quais são as cinco camadas da pilha do protocolo da Internet? Quais as principais responsabilidades de cada uma dessas camadas?

\subsection{Questão 23}
Que camadas da pilha do protocolo da Internet um roteador implementa? Que camadas um comutador de camada de enlace implementa? Que camadas um sistema final implementa?

\subsection{Problema 6}

Este problema elementar começa a explorar atrasos de propagação e de transmissão, dois conceitos centrais em redes de computadores. Considere dois computadores, A e B, conectados por um único enlace de taxa $R$ bps. Suponha que esses computadores estejam separados por $m$ metros e que a velocidade de propagação ao longo do enlace seja de $s$ metros/segundo. O computador A tem de enviar um pacote de $L$ bits ao computador B.

\paragraph{a.} Expresso o atraso de propagação $d_{prop}$ em termos de $m$ e $s$.
\paragraph{b.} Determine o tempo de transmissão do pacote $d_{trans}$, em termos de $L$ e $R$
\paragraph{c.} Ignorando os atrasos de processamento e de fila, obtenha uma expressão para o atraso fim-a-fim
\paragraph{d.} Suponha que o computador A comece a transmitir o pacote no instante $t = 0$. No instante $t = d_{trans}$, onde estará o último bit do pacote?
\paragraph{e.} Suponha que $d_{prop}$ seja maior que $d_{trans}$. Onde estará o primeiro bit do pacote no instante $t = d_{trans}$?
\paragraph{f.} Suponha que $d_{prop}$ seja menor que $d_{trans}$. Onde estará o primeiro bit do pacote no instante $t = d_{trans}$?
\paragraph{g.} Suponha $s = 2,5 . 10^8$, $L = 100$ bits e $R = 28$ kbps. Encontre a distância $m$ de forma que $d_{prop}$ seja igual a $d_{trans}$.

\subsection{Problema 14}
Suponha que dois computadores, A e B, estejam separados a uma distância de 10 mil quilômetros e conectados por um enlace direto de $R = 1$ Mbps. Suponha que a velocidade de propagação pelo enlace seja de $2.5 . 10^8$ metros por segundo.
\paragraph{a.} Calcule o produto largura de banda-atraso $R . t_{prop}$
\paragraph{b.} Considere o envio de um arquivo de 400 mil bits do computador A para o computador B. Suponha que o arquivo seja enviado continuamente, como se fosse uma única grande mensagem. Qual é o número máximo de bits que está no enlace a qualquer dado instante?
\letra{c} Interprete o produto largura de banda-atraso.
\letra{d} Qual é o comprimento (em metros) de um bit no enlace? É maior do que a de um campo de futebol?
\letra{e} Derive uma expressão geral para o comprimento de um bit em termos da velocidade de propagação $s$, da velocidade de transmissão $R$ e do comprimento do enlace $m$.

\subsection{Problema 16}
Considere o problema 14, mas agora com um enlace de $R = 1$ Gbps.
\letra{a} Calcule o produto largura de banda-atraso, $R . t_{prop}$
\letra{b} Considere o envio de um arquivo de 400 mil bits no computador A para o computador B. Suponha que o arquivo seja enviado continuamente, como se fosse uma única grande mensagem. Qual será o número máximo de bits que estará no enlace a qualquer dado instante?
\letra{c} Qual é o comprimento (em metros) de um bit no enlace?

\subsection{Problema 17}
Novamente com referência ao problema 14.
\letra{a} Quanto tempo demora para enviar o arquivo, admitindo que ele seja enviado continuamente?
\letra{b} Suponha agora que o arquivo seja fragmentado em dez pacotes e que cada pacote contenha 40 mil bits. Suponha que cada pacote seja verificado pelo receptor e que o tempo de transmissão de uma verificação de pacote seja desprezível. Finalmente, admita que o emisso não possa enviar um pacote até que o anterior tenha sido reconhecido. Quanto tempo demorará para enviar o arquivo?
\letra{c} Compare os resultados de `a' e `b'.

\subsection{Problema 20}
Em redes modernas de comutação de pacotes, a máquina de origem segmenta mensagens longas de camada de aplicação (por exemplo, uma imagem ou um arquivo de música) em pacotes menores e os envia pela rede. A máquina destinatária, então, monta novamente os pacotes restaurando a mensagem original. Denominamos esse processo \emph{segmentação de mensagem}. A Figura 1.21 ilustra o transporte fim-a-fim de uma mensagem e sem segmentação. Considere que uma mensagem de $7,5 . 10^6$ bits de comprimento tenha de ser enviada da origem ao destino da Figura 1.32. Suponha que a velocidade de cada enlace seja 1,5 Mbps. Ignore atrasos de propagação, de fila e de processamento.
\letra{a} Considero o envio da mensagem da origem ao destino \emph{sem} segmentação. Quanto tempo essa mensagem levará para ir da máquina de origem até o primeiro comutador de pacotes? Tendo em mente que cada comutador usa comutação de pacotes do tipo armazena-e-reenvia, qual é o tempo total para levar a mensagem da máquina de origem à máquina de destino?
\letra{b} Agora suponha que a mensagem seja segmentada em 5 mil pacotes, cada um com 1.500 bits de comprimento. Quanto tempo demorará para o primeiro pacote ir da máquina de origem até o primeiro comutador? Quando o primeiro pacote está sendo enviado do primeiro ao segundo comutador, o segundo pacote está sendo enviado da máquian de origem ao primeiro comutador. Em que instante o segundo pacote terá sido completamente recebido no primeiro computador?
\letra{c} Quanto tempo demorará para movimentar o arquivo da máquina de origem até a máquina de destino quando é usada segmentação de mensagem? Compare este resultado com sua resposta na parte `a' e comente.
\letra{d} Discuta as desvantagens da segmentação de mensagem.

\section{Camada de Aplicação}

Questões: 6, 9, 12, 15, 16, 19, 22 e 23
Problemas: 6, 7, 9, 23

\section{Camada de Transporte}

Questões: 1, 2, 3, 4, 5, 6, 7, 8
Problemas: 10, 11, 12, 19, 20, 25, 27, 30, 33, 34

\section{Camada de Rede}

Questões: 2, 8, 19, 21, 22, 24, 32, 35, 36
Problemas: 7, 21, 23


\bibliographystyle{plain}
\bibliography{../references}
\end{document}
